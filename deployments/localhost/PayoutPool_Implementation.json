{
  "address": "0x7a2088a1bFc9d81c55368AE168C2C02570cB814F",
  "abi": [
    {
      "inputs": [],
      "name": "PayoutPool__NoPayout",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PayoutPool__NotPolicyCenter",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PayoutPool__OnlyPriorityPool",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PayoutPool__WrongCRToken",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "version",
          "type": "uint8"
        }
      ],
      "name": "Initialized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "_poolId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_generation",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "_ratio",
          "type": "uint256"
        }
      ],
      "name": "NewPayout",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "CLAIM_PERIOD",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "SCALE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_crToken",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_poolId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_generation",
          "type": "uint256"
        }
      ],
      "name": "claim",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "claimed",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "newGenerationCRAmount",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "crFactory",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_shield",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_policyCenter",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_crFactory",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_priorityPoolFactory",
          "type": "address"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_poolId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_generation",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_ratio",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_poolAddress",
          "type": "address"
        }
      ],
      "name": "newPayout",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "payouts",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "remaining",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "endTiemstamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "ratio",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "priorityPool",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "policyCenter",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "priorityPoolFactory",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "shield",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "transactionHash": "0xfae153897400633dd4793c5d7a88a43c9366a1dbbbf3026ac854d5838cac1be5",
  "receipt": {
    "to": null,
    "from": "0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266",
    "contractAddress": "0x7a2088a1bFc9d81c55368AE168C2C02570cB814F",
    "transactionIndex": 0,
    "gasUsed": "609149",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x88116253de8f87088b7bd27de41a9a19e4c5203f56a0cc3dd355d958bd38eaea",
    "transactionHash": "0xfae153897400633dd4793c5d7a88a43c9366a1dbbbf3026ac854d5838cac1be5",
    "logs": [],
    "blockNumber": 27,
    "cumulativeGasUsed": "609149",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "47acdbe4a2fbfe8564e34be1f64507a0",
  "metadata": "{\"compiler\":{\"version\":\"0.8.15+commit.e14f2714\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"PayoutPool__NoPayout\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PayoutPool__NotPolicyCenter\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PayoutPool__OnlyPriorityPool\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PayoutPool__WrongCRToken\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"version\",\"type\":\"uint8\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"_poolId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_generation\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"_ratio\",\"type\":\"uint256\"}],\"name\":\"NewPayout\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"CLAIM_PERIOD\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"SCALE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_crToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_poolId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_generation\",\"type\":\"uint256\"}],\"name\":\"claim\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"claimed\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newGenerationCRAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"crFactory\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_shield\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_policyCenter\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_crFactory\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_priorityPoolFactory\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_poolId\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_generation\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_ratio\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_poolAddress\",\"type\":\"address\"}],\"name\":\"newPayout\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"payouts\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"remaining\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"endTiemstamp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"ratio\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"priorityPool\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"policyCenter\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"priorityPoolFactory\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"shield\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"claim(address,address,uint256,uint256)\":{\"params\":{\"_crToken\":\"Cover right token address\",\"_generation\":\"Generation of priority pool (started at 1)\",\"_poolId\":\"Pool Id\",\"_user\":\"User address\"},\"returns\":{\"claimed\":\"              The actual amount transferred to the user\",\"newGenerationCRAmount\":\"New generation crToken minted to the user\"}},\"newPayout(uint256,uint256,uint256,uint256,address)\":{\"params\":{\"_amount\":\"Total amount to be claimed\",\"_generation\":\"Generation of priority pool (start at 1)\",\"_poolAddress\":\"Address of priority pool\",\"_poolId\":\"Pool Id\",\"_ratio\":\"Payout ratio of this payout (users can only use part of their crTokens to claim)\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"claim(address,address,uint256,uint256)\":{\"notice\":\"Claim payout for a user         Only callable from policy center         Need provide certain crToken address and generation\"},\"newPayout(uint256,uint256,uint256,uint256,address)\":{\"notice\":\"New payout comes in         Only callable from one of the priority pools         After the pool's report is passed and executed,         part of the assets will be moved to this pool.\"}},\"notice\":\"Payout Pool         Every time there is a report passed, some assets will be moved to this pool         It is stored as a Payout struct         - amount       Total amount of this payout         - remaining    Remaining amount         - endTimestamp After this timestamp, no more claims         - ratio        Max ratio of a user's crToken\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/pools/payoutPool/PayoutPool.sol\":\"PayoutPool\"},\"evmVersion\":\"london\",\"libraries\":{\":__CACHE_BREAKER__\":\"0x0000000000000031363633343832393538373736\"},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":100},\"remappings\":[],\"viaIR\":true},\"sources\":{\"@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.7.0) (proxy/utils/Initializable.sol)\\n\\npragma solidity ^0.8.2;\\n\\nimport \\\"../../utils/AddressUpgradeable.sol\\\";\\n\\n/**\\n * @dev This is a base contract to aid in writing upgradeable contracts, or any kind of contract that will be deployed\\n * behind a proxy. Since proxied contracts do not make use of a constructor, it's common to move constructor logic to an\\n * external initializer function, usually called `initialize`. It then becomes necessary to protect this initializer\\n * function so it can only be called once. The {initializer} modifier provided by this contract will have this effect.\\n *\\n * The initialization functions use a version number. Once a version number is used, it is consumed and cannot be\\n * reused. This mechanism prevents re-execution of each \\\"step\\\" but allows the creation of new initialization steps in\\n * case an upgrade adds a module that needs to be initialized.\\n *\\n * For example:\\n *\\n * [.hljs-theme-light.nopadding]\\n * ```\\n * contract MyToken is ERC20Upgradeable {\\n *     function initialize() initializer public {\\n *         __ERC20_init(\\\"MyToken\\\", \\\"MTK\\\");\\n *     }\\n * }\\n * contract MyTokenV2 is MyToken, ERC20PermitUpgradeable {\\n *     function initializeV2() reinitializer(2) public {\\n *         __ERC20Permit_init(\\\"MyToken\\\");\\n *     }\\n * }\\n * ```\\n *\\n * TIP: To avoid leaving the proxy in an uninitialized state, the initializer function should be called as early as\\n * possible by providing the encoded function call as the `_data` argument to {ERC1967Proxy-constructor}.\\n *\\n * CAUTION: When used with inheritance, manual care must be taken to not invoke a parent initializer twice, or to ensure\\n * that all initializers are idempotent. This is not verified automatically as constructors are by Solidity.\\n *\\n * [CAUTION]\\n * ====\\n * Avoid leaving a contract uninitialized.\\n *\\n * An uninitialized contract can be taken over by an attacker. This applies to both a proxy and its implementation\\n * contract, which may impact the proxy. To prevent the implementation contract from being used, you should invoke\\n * the {_disableInitializers} function in the constructor to automatically lock it when it is deployed:\\n *\\n * [.hljs-theme-light.nopadding]\\n * ```\\n * /// @custom:oz-upgrades-unsafe-allow constructor\\n * constructor() {\\n *     _disableInitializers();\\n * }\\n * ```\\n * ====\\n */\\nabstract contract Initializable {\\n    /**\\n     * @dev Indicates that the contract has been initialized.\\n     * @custom:oz-retyped-from bool\\n     */\\n    uint8 private _initialized;\\n\\n    /**\\n     * @dev Indicates that the contract is in the process of being initialized.\\n     */\\n    bool private _initializing;\\n\\n    /**\\n     * @dev Triggered when the contract has been initialized or reinitialized.\\n     */\\n    event Initialized(uint8 version);\\n\\n    /**\\n     * @dev A modifier that defines a protected initializer function that can be invoked at most once. In its scope,\\n     * `onlyInitializing` functions can be used to initialize parent contracts. Equivalent to `reinitializer(1)`.\\n     */\\n    modifier initializer() {\\n        bool isTopLevelCall = !_initializing;\\n        require(\\n            (isTopLevelCall && _initialized < 1) || (!AddressUpgradeable.isContract(address(this)) && _initialized == 1),\\n            \\\"Initializable: contract is already initialized\\\"\\n        );\\n        _initialized = 1;\\n        if (isTopLevelCall) {\\n            _initializing = true;\\n        }\\n        _;\\n        if (isTopLevelCall) {\\n            _initializing = false;\\n            emit Initialized(1);\\n        }\\n    }\\n\\n    /**\\n     * @dev A modifier that defines a protected reinitializer function that can be invoked at most once, and only if the\\n     * contract hasn't been initialized to a greater version before. In its scope, `onlyInitializing` functions can be\\n     * used to initialize parent contracts.\\n     *\\n     * `initializer` is equivalent to `reinitializer(1)`, so a reinitializer may be used after the original\\n     * initialization step. This is essential to configure modules that are added through upgrades and that require\\n     * initialization.\\n     *\\n     * Note that versions can jump in increments greater than 1; this implies that if multiple reinitializers coexist in\\n     * a contract, executing them in the right order is up to the developer or operator.\\n     */\\n    modifier reinitializer(uint8 version) {\\n        require(!_initializing && _initialized < version, \\\"Initializable: contract is already initialized\\\");\\n        _initialized = version;\\n        _initializing = true;\\n        _;\\n        _initializing = false;\\n        emit Initialized(version);\\n    }\\n\\n    /**\\n     * @dev Modifier to protect an initialization function so that it can only be invoked by functions with the\\n     * {initializer} and {reinitializer} modifiers, directly or indirectly.\\n     */\\n    modifier onlyInitializing() {\\n        require(_initializing, \\\"Initializable: contract is not initializing\\\");\\n        _;\\n    }\\n\\n    /**\\n     * @dev Locks the contract, preventing any future reinitialization. This cannot be part of an initializer call.\\n     * Calling this in the constructor of a contract will prevent that contract from being initialized or reinitialized\\n     * to any version. It is recommended to use this to lock implementation contracts that are designed to be called\\n     * through proxies.\\n     */\\n    function _disableInitializers() internal virtual {\\n        require(!_initializing, \\\"Initializable: contract is initializing\\\");\\n        if (_initialized < type(uint8).max) {\\n            _initialized = type(uint8).max;\\n            emit Initialized(type(uint8).max);\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x0203dcadc5737d9ef2c211d6fa15d18ebc3b30dfa51903b64870b01a062b0b4e\",\"license\":\"MIT\"},\"@openzeppelin/contracts-upgradeable/utils/AddressUpgradeable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.7.0) (utils/Address.sol)\\n\\npragma solidity ^0.8.1;\\n\\n/**\\n * @dev Collection of functions related to the address type\\n */\\nlibrary AddressUpgradeable {\\n    /**\\n     * @dev Returns true if `account` is a contract.\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * It is unsafe to assume that an address for which this function returns\\n     * false is an externally-owned account (EOA) and not a contract.\\n     *\\n     * Among others, `isContract` will return false for the following\\n     * types of addresses:\\n     *\\n     *  - an externally-owned account\\n     *  - a contract in construction\\n     *  - an address where a contract will be created\\n     *  - an address where a contract lived, but was destroyed\\n     * ====\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * You shouldn't rely on `isContract` to protect against flash loan attacks!\\n     *\\n     * Preventing calls from contracts is highly discouraged. It breaks composability, breaks support for smart wallets\\n     * like Gnosis Safe, and does not provide security since it can be circumvented by calling from a contract\\n     * constructor.\\n     * ====\\n     */\\n    function isContract(address account) internal view returns (bool) {\\n        // This method relies on extcodesize/address.code.length, which returns 0\\n        // for contracts in construction, since the code is only stored at the end\\n        // of the constructor execution.\\n\\n        return account.code.length > 0;\\n    }\\n\\n    /**\\n     * @dev Replacement for Solidity's `transfer`: sends `amount` wei to\\n     * `recipient`, forwarding all available gas and reverting on errors.\\n     *\\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\\n     * imposed by `transfer`, making them unable to receive funds via\\n     * `transfer`. {sendValue} removes this limitation.\\n     *\\n     * https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].\\n     *\\n     * IMPORTANT: because control is transferred to `recipient`, care must be\\n     * taken to not create reentrancy vulnerabilities. Consider using\\n     * {ReentrancyGuard} or the\\n     * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\\n     */\\n    function sendValue(address payable recipient, uint256 amount) internal {\\n        require(address(this).balance >= amount, \\\"Address: insufficient balance\\\");\\n\\n        (bool success, ) = recipient.call{value: amount}(\\\"\\\");\\n        require(success, \\\"Address: unable to send value, recipient may have reverted\\\");\\n    }\\n\\n    /**\\n     * @dev Performs a Solidity function call using a low level `call`. A\\n     * plain `call` is an unsafe replacement for a function call: use this\\n     * function instead.\\n     *\\n     * If `target` reverts with a revert reason, it is bubbled up by this\\n     * function (like regular Solidity function calls).\\n     *\\n     * Returns the raw returned data. To convert to the expected return value,\\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\\n     *\\n     * Requirements:\\n     *\\n     * - `target` must be a contract.\\n     * - calling `target` with `data` must not revert.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionCall(target, data, \\\"Address: low-level call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with\\n     * `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, 0, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but also transferring `value` wei to `target`.\\n     *\\n     * Requirements:\\n     *\\n     * - the calling contract must have an ETH balance of at least `value`.\\n     * - the called Solidity function must be `payable`.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(\\n        address target,\\n        bytes memory data,\\n        uint256 value\\n    ) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, value, \\\"Address: low-level call with value failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but\\n     * with `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(\\n        address target,\\n        bytes memory data,\\n        uint256 value,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        require(address(this).balance >= value, \\\"Address: insufficient balance for call\\\");\\n        require(isContract(target), \\\"Address: call to non-contract\\\");\\n\\n        (bool success, bytes memory returndata) = target.call{value: value}(data);\\n        return verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {\\n        return functionStaticCall(target, data, \\\"Address: low-level static call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal view returns (bytes memory) {\\n        require(isContract(target), \\\"Address: static call to non-contract\\\");\\n\\n        (bool success, bytes memory returndata) = target.staticcall(data);\\n        return verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Tool to verifies that a low level call was successful, and revert if it wasn't, either by bubbling the\\n     * revert reason using the provided one.\\n     *\\n     * _Available since v4.3._\\n     */\\n    function verifyCallResult(\\n        bool success,\\n        bytes memory returndata,\\n        string memory errorMessage\\n    ) internal pure returns (bytes memory) {\\n        if (success) {\\n            return returndata;\\n        } else {\\n            // Look for revert reason and bubble it up if present\\n            if (returndata.length > 0) {\\n                // The easiest way to bubble the revert reason is using memory via assembly\\n                /// @solidity memory-safe-assembly\\n                assembly {\\n                    let returndata_size := mload(returndata)\\n                    revert(add(32, returndata), returndata_size)\\n                }\\n            } else {\\n                revert(errorMessage);\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x611aa3f23e59cfdd1863c536776407b3e33d695152a266fa7cfb34440a29a8a3\",\"license\":\"MIT\"},\"src/interfaces/ICoverRightToken.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.13;\\n\\ninterface ICoverRightToken {\\n    function expiry() external view returns (uint256);\\n\\n    function getClaimableOf(address _user) external view returns (uint256);\\n\\n    function mint(\\n        uint256 _poolId,\\n        address _user,\\n        uint256 _amount\\n    ) external;\\n\\n    function burn(\\n        uint256 _poolId,\\n        address _user,\\n        uint256 _amount\\n    ) external;\\n\\n    function generation() external view returns (uint256);\\n}\\n\",\"keccak256\":\"0xbd06b45a4cefc10086b3ad76a27e23ff30c32e687856dc47d783698813848c25\",\"license\":\"MIT\"},\"src/interfaces/ICoverRightTokenFactory.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0-or-later\\n\\npragma solidity ^0.8.13;\\n\\ninterface ICoverRightTokenFactory {\\n    function deployCRToken(\\n        string calldata _poolName,\\n        uint256 _poolId,\\n        string calldata _tokenName,\\n        uint256 _expiry,\\n        uint256 _generation\\n    ) external returns (address newCRTokenAddress);\\n\\n    function deployed(bytes32 _salt) external view returns (bool);\\n\\n    function saltToAddress(bytes32 _salt) external view returns (address);\\n}\\n\",\"keccak256\":\"0xf17c79edd1d32f1b61e8bdcdc74262f7935a899d03b9cfd677e4ff438f0814db\",\"license\":\"GPL-3.0-or-later\"},\"src/interfaces/IPriorityPool.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0-or-later\\n\\npragma solidity ^0.8.13;\\n\\ninterface IPriorityPool {\\n    //\\n\\n    function insuredToken() external view returns (address);\\n\\n    function pausePriorityPool(bool _paused) external;\\n\\n    function setCoverIndex(uint256 _newIndex) external;\\n\\n    function minAssetRequirement() external view returns (uint256);\\n\\n    function activeCovered() external view returns (uint256);\\n\\n    function currentLPAddress() external view returns (address);\\n\\n    function liquidatePool(uint256 amount) external;\\n\\n    function generation() external view returns (uint256);\\n\\n    function crTokenAddress(uint256 generation) external view returns (address);\\n\\n    function poolInfo()\\n        external\\n        view\\n        returns (\\n            bool,\\n            uint256,\\n            uint256,\\n            uint256,\\n            uint256,\\n            uint256\\n        );\\n\\n    function updateWhenBuy(\\n        uint256 _amount,\\n        uint256 _premium,\\n        uint256 _length,\\n        uint256 _timestampLength\\n    ) external;\\n\\n    function stakedLiquidity(uint256 _amount, address _provider)\\n        external\\n        returns (address);\\n\\n    function unstakedLiquidity(\\n        address _lpToken,\\n        uint256 _amount,\\n        address _provider\\n    ) external;\\n\\n    function coverPrice(uint256 _amount, uint256 _length)\\n        external\\n        view\\n        returns (uint256, uint256);\\n\\n    function maxCapacity() external view returns (uint256);\\n\\n    function coverIndex() external view returns (uint256);\\n\\n    function paused() external view returns (bool);\\n\\n    function basePremiumRatio() external view returns (uint256);\\n}\\n\",\"keccak256\":\"0x83e5056ae9508747e92dae0a557430c5f187ef4fcb689a8c1ea5c675c0e063cf\",\"license\":\"GPL-3.0-or-later\"},\"src/interfaces/IPriorityPoolFactory.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0-or-later\\n\\npragma solidity ^0.8.13;\\n\\ninterface IPriorityPoolFactory {\\n    event OwnershipTransferred(\\n        address indexed previousOwner,\\n        address indexed newOwner\\n    );\\n    event PoolCreated(\\n        address poolAddress,\\n        uint256 poolId,\\n        string protocolName,\\n        address protocolToken,\\n        uint256 maxCapacity,\\n        uint256 policyPricePerShield\\n    );\\n\\n    struct PoolInfo {\\n        string a;\\n        address b;\\n        address c;\\n        uint256 d;\\n        uint256 e;\\n    }\\n\\n    function deg() external view returns (address);\\n\\n    function deployPool(\\n        string memory _name,\\n        address _protocolToken,\\n        uint256 _maxCapacity,\\n        uint256 _policyPricePerToken\\n    ) external returns (address);\\n\\n    function executor() external view returns (address);\\n\\n    function getPoolAddressList() external view returns (address[] memory);\\n\\n    function getPoolInfo(uint256 _id) external view returns (PoolInfo memory);\\n\\n    function incidentReport() external view returns (address);\\n\\n    function priorityPoolFactory() external view returns (address);\\n\\n    function maxCapacity() external view returns (uint256);\\n\\n    function owner() external view returns (address);\\n\\n    function policyCenter() external view returns (address);\\n\\n    function poolCounter() external view returns (uint256);\\n\\n    function poolInfoById(uint256)\\n        external\\n        view\\n        returns (\\n            string memory protocolName,\\n            address poolAddress,\\n            address protocolToken,\\n            uint256 maxCapacity,\\n            uint256 policyPricePerShield\\n        );\\n\\n    function poolRegistered(address) external view returns (bool);\\n\\n    function protectionPool() external view returns (address);\\n\\n    function setProtectionPool(address _protectionPool) external;\\n\\n    function updateMaxCapacity(bool _isUp, uint256 _maxCapacity) external;\\n\\n    function shield() external view returns (address);\\n\\n    function tokenRegistered(address) external view returns (bool);\\n\\n    function totalMaxCapacity() external view returns (uint256);\\n\\n    function transferOwnership(address newOwner) external;\\n\\n    function veDeg() external view returns (address);\\n\\n    function updateDynamicPool(uint256 _poolId) external;\\n\\n    function dynamicPoolCounter() external view returns (uint256);\\n\\n    function dynamic(address _pool) external view returns (bool);\\n\\n    function pools(uint256 _poolId)\\n        external\\n        view\\n        returns (\\n            string memory name,\\n            address poolAddress,\\n            address protocolToken,\\n            uint256 maxCapacity,\\n            uint256 basePremiumRatio\\n        );\\n\\n    function payoutPool() external view returns (address);\\n\\n    function pausePriorityPool(uint256 _poolId, bool _paused) external;\\n}\\n\",\"keccak256\":\"0x8c988f1fbeea64eede1c093a62bb6523f0f3e35a5d1807fc1909060cad38928f\",\"license\":\"GPL-3.0-or-later\"},\"src/pools/payoutPool/PayoutPool.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0-or-later\\n\\n/*\\n //======================================================================\\\\\\\\\\n //======================================================================\\\\\\\\\\n    *******         **********     ***********     *****     ***********\\n    *      *        *              *                 *       *\\n    *        *      *              *                 *       *\\n    *         *     *              *                 *       *\\n    *         *     *              *                 *       *\\n    *         *     **********     *       *****     *       ***********\\n    *         *     *              *         *       *                 *\\n    *         *     *              *         *       *                 *\\n    *        *      *              *         *       *                 *\\n    *      *        *              *         *       *                 *\\n    *******         **********     ***********     *****     ***********\\n \\\\\\\\======================================================================//\\n \\\\\\\\======================================================================//\\n*/\\n\\npragma solidity ^0.8.13;\\n\\nimport \\\"@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol\\\";\\n\\nimport \\\"../../interfaces/ICoverRightTokenFactory.sol\\\";\\nimport \\\"../../interfaces/ICoverRightToken.sol\\\";\\nimport \\\"../../interfaces/IPriorityPool.sol\\\";\\nimport \\\"../../interfaces/IPriorityPoolFactory.sol\\\";\\n\\nimport \\\"../../util/SimpleIERC20.sol\\\";\\n\\n/**\\n * @notice Payout Pool\\n *\\n *         Every time there is a report passed, some assets will be moved to this pool\\n *         It is stored as a Payout struct\\n *         - amount       Total amount of this payout\\n *         - remaining    Remaining amount\\n *         - endTimestamp After this timestamp, no more claims\\n *         - ratio        Max ratio of a user's crToken\\n */\\ncontract PayoutPool is Initializable {\\n    // ---------------------------------------------------------------------------------------- //\\n    // ************************************* Constants **************************************** //\\n    // ---------------------------------------------------------------------------------------- //\\n\\n    uint256 public constant SCALE = 1e12;\\n\\n    uint256 public constant CLAIM_PERIOD = 30 days;\\n\\n    // ---------------------------------------------------------------------------------------- //\\n    // ************************************* Variables **************************************** //\\n    // ---------------------------------------------------------------------------------------- //\\n\\n    address public shield;\\n\\n    address public crFactory;\\n\\n    address public policyCenter;\\n\\n    address public priorityPoolFactory;\\n\\n    struct Payout {\\n        uint256 amount;\\n        uint256 remaining;\\n        uint256 endTiemstamp;\\n        uint256 ratio;\\n        address priorityPool;\\n    }\\n    // Pool id => Generation => Payout\\n    mapping(uint256 => mapping(uint256 => Payout)) public payouts;\\n\\n    // ---------------------------------------------------------------------------------------- //\\n    // *************************************** Events ***************************************** //\\n    // ---------------------------------------------------------------------------------------- //\\n\\n    event NewPayout(\\n        uint256 indexed _poolId,\\n        uint256 _generation,\\n        uint256 _amount,\\n        uint256 _ratio\\n    );\\n\\n    // ---------------------------------------------------------------------------------------- //\\n    // *************************************** Errors ***************************************** //\\n    // ---------------------------------------------------------------------------------------- //\\n\\n    error PayoutPool__OnlyPriorityPool();\\n    error PayoutPool__NotPolicyCenter();\\n    error PayoutPool__WrongCRToken();\\n    error PayoutPool__NoPayout();\\n\\n    // ---------------------------------------------------------------------------------------- //\\n    // ************************************* Constructor ************************************** //\\n    // ---------------------------------------------------------------------------------------- //\\n\\n    function initialize(\\n        address _shield,\\n        address _policyCenter,\\n        address _crFactory,\\n        address _priorityPoolFactory\\n    ) public initializer {\\n        shield = _shield;\\n        policyCenter = _policyCenter;\\n        crFactory = _crFactory;\\n        priorityPoolFactory = _priorityPoolFactory;\\n    }\\n\\n    // ---------------------------------------------------------------------------------------- //\\n    // ************************************** Modifiers *************************************** //\\n    // ---------------------------------------------------------------------------------------- //\\n\\n    modifier onlyPriorityPool(uint256 _poolId) {\\n        (, address poolAddress, , , ) = IPriorityPoolFactory(\\n            priorityPoolFactory\\n        ).pools(_poolId);\\n        if (poolAddress != msg.sender) revert PayoutPool__OnlyPriorityPool();\\n        _;\\n    }\\n\\n    modifier onlyPolicyCenter() {\\n        if (msg.sender != policyCenter) revert PayoutPool__NotPolicyCenter();\\n        _;\\n    }\\n\\n    // ---------------------------------------------------------------------------------------- //\\n    // ************************************ Main Functions ************************************ //\\n    // ---------------------------------------------------------------------------------------- //\\n\\n    /**\\n     * @notice New payout comes in\\n     *\\n     *         Only callable from one of the priority pools\\n     *\\n     *         After the pool's report is passed and executed,\\n     *         part of the assets will be moved to this pool.\\n     *\\n     *\\n     * @param _poolId       Pool Id\\n     * @param _generation   Generation of priority pool (start at 1)\\n     * @param _amount       Total amount to be claimed\\n     * @param _ratio        Payout ratio of this payout (users can only use part of their crTokens to claim)\\n     * @param _poolAddress  Address of priority pool\\n     */\\n    function newPayout(\\n        uint256 _poolId,\\n        uint256 _generation,\\n        uint256 _amount,\\n        uint256 _ratio,\\n        address _poolAddress\\n    ) external onlyPriorityPool(_poolId) {\\n        Payout storage payout = payouts[_poolId][_generation];\\n\\n        // Store the information\\n        payout.amount = _amount;\\n        payout.endTiemstamp = block.timestamp + CLAIM_PERIOD;\\n        payout.ratio = _ratio;\\n        payout.priorityPool = _poolAddress;\\n\\n        emit NewPayout(_poolId, _generation, _amount, _ratio);\\n    }\\n\\n    /**\\n     * @notice Claim payout for a user\\n     *\\n     *         Only callable from policy center\\n     *         Need provide certain crToken address and generation\\n     *\\n     * @param _user       User address\\n     * @param _crToken    Cover right token address\\n     * @param _poolId     Pool Id\\n     * @param _generation Generation of priority pool (started at 1)\\n     *\\n     * @return claimed               The actual amount transferred to the user\\n     * @return newGenerationCRAmount New generation crToken minted to the user\\n     */\\n    function claim(\\n        address _user,\\n        address _crToken,\\n        uint256 _poolId,\\n        uint256 _generation\\n    )\\n        external\\n        onlyPolicyCenter\\n        returns (uint256 claimed, uint256 newGenerationCRAmount)\\n    {\\n        Payout storage payout = payouts[_poolId][_generation];\\n\\n        uint256 expiry = ICoverRightToken(_crToken).expiry();\\n\\n        // Check the crToken address and generation matched\\n        bytes32 salt = keccak256(\\n            abi.encodePacked(_poolId, expiry, _generation)\\n        );\\n        if (ICoverRightTokenFactory(crFactory).saltToAddress(salt) != _crToken)\\n            revert PayoutPool__WrongCRToken();\\n\\n        // Get claimable amount of crToken\\n        uint256 claimableBalance = ICoverRightToken(_crToken).getClaimableOf(\\n            _user\\n        );\\n        // Only part of the crToken can be used for claim\\n        uint256 claimable = (claimableBalance * payout.ratio) / SCALE;\\n\\n        if (claimable == 0) revert PayoutPool__NoPayout();\\n\\n        uint256 coverIndex = IPriorityPool(payout.priorityPool).coverIndex();\\n\\n        // Actual amount given to the user\\n        claimed = (claimable * coverIndex) / 10000;\\n\\n        ICoverRightToken(_crToken).burn(\\n            _poolId,\\n            _user,\\n            // burns the users' crToken balance, not the payout amount,\\n            // since rest of the payout will be minted as a new generation token\\n            claimableBalance\\n        );\\n\\n        SimpleIERC20(shield).transfer(_user, claimed);\\n\\n        // Amount of new generation cr token to be minted\\n        newGenerationCRAmount = claimableBalance - claimable;\\n    }\\n}\\n\",\"keccak256\":\"0xa39ff84abdf1fb3fe9c7b66f9b02a8e972f308c6da27d59531ec3e6d87c9a4a0\",\"license\":\"GPL-3.0-or-later\"},\"src/util/SimpleIERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.13;\\n\\ninterface SimpleIERC20 {\\n    function totalSupply() external view returns (uint256);\\n\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    function transfer(address to, uint256 amount) external returns (bool);\\n\\n    function transferFrom(\\n        address from,\\n        address to,\\n        uint256 amount\\n    ) external returns (bool);\\n}\\n\",\"keccak256\":\"0x9b15e78313a0d5b81dcaaea2e7545aa8688d1e44ef97f607f2405d0c9e7e0df7\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x6080806040523461001657610a0c908161001c8239f35b600080fdfe6080604081815260048036101561001557600080fd5b600092833560e01c90816321241dfe146109185750806326af483214610569578063304de873146105055780636f8a6e43146104dc57806370d39cff146104b0578063c773a2d1146102a6578063e8adbf2f1461027d578063eced55261461025d578063f4ecd091146102305763f8c8765e1461009157600080fd5b3461022c57608036600319011261022c576100aa610935565b6100b261094b565b6001600160a01b0392906044358481169190829003610227576064359185831680930361022757875460ff8160081c16159485809661021a575b8015610203575b156101a9575060ff198116600117895584610198575b5087549462010000600160b01b039060101b16958662010000600160b01b0319871617895560018060a01b03199216826002541617600255816001541617600155600354161760035561015b57505051f35b610100600160b01b0319161782558051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249890602090a151f35b61ffff191661010117885538610109565b60849060208a519162461bcd60e51b8352820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201526d191e481a5b9a5d1a585b1a5e995960921b6064820152fd5b50303b1580156100f35750600160ff8316146100f3565b50600160ff8316106100ec565b600080fd5b8280fd5b50503461025957816003193601126102595760015490516001600160a01b039091168152602090f35b5080fd5b5050346102595781600319360112610259576020905164e8d4a510008152f35b50503461025957816003193601126102595760025490516001600160a01b039091168152602090f35b503461022c5760a036600319011261022c578035906024359060643590604435906084356001600160a01b038181169291839003610227578089602492600354168a51938480926315895f4760e31b82528c888301525afa9182156104a6578a926103b2575b50339116036103a4578588528060205286882085895260205286882083815562278d00194211610391574262278d00016002820155600381018590550180546001600160a01b031916909117905584519283526020830152818401527fd303ba41003252f101801d7b067a3b4ccab80e936da6462f7ead1a40c1eb941d90606090a251f35b634e487b7160e01b895260118252602489fd5b865163f6c16f2960e01b8152fd5b9091503d808b833e6103c48183610961565b810160a0828203126104a257815167ffffffffffffffff9081811161049e57830182601f8201121561049e57805191821161048b578b519060209361041285601f19601f8701160184610961565b83835284848301011161048757918d918d9383905b8382106104685750948261044d94928294610454981161045c575b505050508401610999565b9201610999565b50903861030c565b0101528d813880610442565b9294508580929450818401015182828601015201918e928e9492610427565b8d80fd5b634e487b7160e01b8d526041865260248dfd5b8c80fd5b8a80fd5b89513d8c823e3d90fd5b5050346102595781600319360112610259579054905160109190911c6001600160a01b03168152602090f35b50503461025957816003193601126102595760035490516001600160a01b039091168152602090f35b50903461022c578060031936011261022c578060a093833581528360205281812060243582526020522091825492600181015492600282015491600381015493600180891b0391015416938151958652602086015284015260608301526080820152f35b5082903461025957608036600319011261025957610585610935565b61058d61094b565b600254604435946001600160a01b0394929392606435928616330361090a5786825260209581875288832084845287528089842096169089516370c264df60e11b815288818581865afa9081156109005785916108cf575b508a5195898701918b83528c880152606087015260608652608086019567ffffffffffffffff91818810838911176108bc578a8880928f82905284519020866001541690631620909560e01b8352608486015260249a8b915afa918215610824579184918c87948a93610881575b5050501603610871578a516382b2ed1360e01b81529682168488018190529289888881845afa9788156107e757869861083e575b5064e8d4a5100061069c60038b01548a6109ad565b0498891561082e578501548c51631b20a87760e31b8152908b9082908890829088165afa9081156108245787916107f5575b506106dc612710918b6109ad565b049a813b156107f157869291606484928f519586938492634f752fb360e11b84528b840152898d8401528d60448401525af180156107e757908a949392916107b9575b5050906044859392845460101c16918c51948593849263a9059cbb60e01b8452888401528d8a8401525af180156107af5761077c575b5084841061076c5750505084519384520390820152f35b634e487b7160e01b825260119052fd5b8681813d83116107a8575b6107918183610961565b8101031261022c5751801515036102595788610755565b503d610787565b89513d85823e3d90fd5b9080929596939450116107d5578a52929187919060448c61071f565b634e487b7160e01b8252604185528582fd5b8c513d88823e3d90fd5b8680fd5b90508a81813d831161081d575b61080c8183610961565b810103126107f157516106dc6106ce565b503d610802565b8d513d89823e3d90fd5b8c51636a2f23b760e01b81528690fd5b9097508981813d831161086a575b6108568183610961565b810103126108665751968c610687565b8580fd5b503d61084c565b8a516374da7ab160e01b81528490fd5b925092509250813d83116108b5575b61089a8185610961565b8101031261086657826108ad8592610999565b8e8c81610653565b503d610890565b634e487b7160e01b875260418652602487fd5b90508881813d83116108f9575b6108e68183610961565b810103126108f557518b6105e5565b8480fd5b503d6108dc565b8b513d87823e3d90fd5b87516321d0c2eb60e11b8152fd5b8490346102595781600319360112610259578062278d0060209252f35b600435906001600160a01b038216820361022757565b602435906001600160a01b038216820361022757565b90601f8019910116810190811067ffffffffffffffff82111761098357604052565b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b038216820361022757565b80600019048211811515166109c0570290565b634e487b7160e01b600052601160045260246000fdfea26469706673582212204eb4842200ad70c12f0aed7ee5cd180b24dcef16c6e0ba6b0555dffbd8515c9664736f6c634300080f0033",
  "deployedBytecode": "0x6080604081815260048036101561001557600080fd5b600092833560e01c90816321241dfe146109185750806326af483214610569578063304de873146105055780636f8a6e43146104dc57806370d39cff146104b0578063c773a2d1146102a6578063e8adbf2f1461027d578063eced55261461025d578063f4ecd091146102305763f8c8765e1461009157600080fd5b3461022c57608036600319011261022c576100aa610935565b6100b261094b565b6001600160a01b0392906044358481169190829003610227576064359185831680930361022757875460ff8160081c16159485809661021a575b8015610203575b156101a9575060ff198116600117895584610198575b5087549462010000600160b01b039060101b16958662010000600160b01b0319871617895560018060a01b03199216826002541617600255816001541617600155600354161760035561015b57505051f35b610100600160b01b0319161782558051600181527f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249890602090a151f35b61ffff191661010117885538610109565b60849060208a519162461bcd60e51b8352820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201526d191e481a5b9a5d1a585b1a5e995960921b6064820152fd5b50303b1580156100f35750600160ff8316146100f3565b50600160ff8316106100ec565b600080fd5b8280fd5b50503461025957816003193601126102595760015490516001600160a01b039091168152602090f35b5080fd5b5050346102595781600319360112610259576020905164e8d4a510008152f35b50503461025957816003193601126102595760025490516001600160a01b039091168152602090f35b503461022c5760a036600319011261022c578035906024359060643590604435906084356001600160a01b038181169291839003610227578089602492600354168a51938480926315895f4760e31b82528c888301525afa9182156104a6578a926103b2575b50339116036103a4578588528060205286882085895260205286882083815562278d00194211610391574262278d00016002820155600381018590550180546001600160a01b031916909117905584519283526020830152818401527fd303ba41003252f101801d7b067a3b4ccab80e936da6462f7ead1a40c1eb941d90606090a251f35b634e487b7160e01b895260118252602489fd5b865163f6c16f2960e01b8152fd5b9091503d808b833e6103c48183610961565b810160a0828203126104a257815167ffffffffffffffff9081811161049e57830182601f8201121561049e57805191821161048b578b519060209361041285601f19601f8701160184610961565b83835284848301011161048757918d918d9383905b8382106104685750948261044d94928294610454981161045c575b505050508401610999565b9201610999565b50903861030c565b0101528d813880610442565b9294508580929450818401015182828601015201918e928e9492610427565b8d80fd5b634e487b7160e01b8d526041865260248dfd5b8c80fd5b8a80fd5b89513d8c823e3d90fd5b5050346102595781600319360112610259579054905160109190911c6001600160a01b03168152602090f35b50503461025957816003193601126102595760035490516001600160a01b039091168152602090f35b50903461022c578060031936011261022c578060a093833581528360205281812060243582526020522091825492600181015492600282015491600381015493600180891b0391015416938151958652602086015284015260608301526080820152f35b5082903461025957608036600319011261025957610585610935565b61058d61094b565b600254604435946001600160a01b0394929392606435928616330361090a5786825260209581875288832084845287528089842096169089516370c264df60e11b815288818581865afa9081156109005785916108cf575b508a5195898701918b83528c880152606087015260608652608086019567ffffffffffffffff91818810838911176108bc578a8880928f82905284519020866001541690631620909560e01b8352608486015260249a8b915afa918215610824579184918c87948a93610881575b5050501603610871578a516382b2ed1360e01b81529682168488018190529289888881845afa9788156107e757869861083e575b5064e8d4a5100061069c60038b01548a6109ad565b0498891561082e578501548c51631b20a87760e31b8152908b9082908890829088165afa9081156108245787916107f5575b506106dc612710918b6109ad565b049a813b156107f157869291606484928f519586938492634f752fb360e11b84528b840152898d8401528d60448401525af180156107e757908a949392916107b9575b5050906044859392845460101c16918c51948593849263a9059cbb60e01b8452888401528d8a8401525af180156107af5761077c575b5084841061076c5750505084519384520390820152f35b634e487b7160e01b825260119052fd5b8681813d83116107a8575b6107918183610961565b8101031261022c5751801515036102595788610755565b503d610787565b89513d85823e3d90fd5b9080929596939450116107d5578a52929187919060448c61071f565b634e487b7160e01b8252604185528582fd5b8c513d88823e3d90fd5b8680fd5b90508a81813d831161081d575b61080c8183610961565b810103126107f157516106dc6106ce565b503d610802565b8d513d89823e3d90fd5b8c51636a2f23b760e01b81528690fd5b9097508981813d831161086a575b6108568183610961565b810103126108665751968c610687565b8580fd5b503d61084c565b8a516374da7ab160e01b81528490fd5b925092509250813d83116108b5575b61089a8185610961565b8101031261086657826108ad8592610999565b8e8c81610653565b503d610890565b634e487b7160e01b875260418652602487fd5b90508881813d83116108f9575b6108e68183610961565b810103126108f557518b6105e5565b8480fd5b503d6108dc565b8b513d87823e3d90fd5b87516321d0c2eb60e11b8152fd5b8490346102595781600319360112610259578062278d0060209252f35b600435906001600160a01b038216820361022757565b602435906001600160a01b038216820361022757565b90601f8019910116810190811067ffffffffffffffff82111761098357604052565b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b038216820361022757565b80600019048211811515166109c0570290565b634e487b7160e01b600052601160045260246000fdfea26469706673582212204eb4842200ad70c12f0aed7ee5cd180b24dcef16c6e0ba6b0555dffbd8515c9664736f6c634300080f0033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "claim(address,address,uint256,uint256)": {
        "params": {
          "_crToken": "Cover right token address",
          "_generation": "Generation of priority pool (started at 1)",
          "_poolId": "Pool Id",
          "_user": "User address"
        },
        "returns": {
          "claimed": "              The actual amount transferred to the user",
          "newGenerationCRAmount": "New generation crToken minted to the user"
        }
      },
      "newPayout(uint256,uint256,uint256,uint256,address)": {
        "params": {
          "_amount": "Total amount to be claimed",
          "_generation": "Generation of priority pool (start at 1)",
          "_poolAddress": "Address of priority pool",
          "_poolId": "Pool Id",
          "_ratio": "Payout ratio of this payout (users can only use part of their crTokens to claim)"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "claim(address,address,uint256,uint256)": {
        "notice": "Claim payout for a user         Only callable from policy center         Need provide certain crToken address and generation"
      },
      "newPayout(uint256,uint256,uint256,uint256,address)": {
        "notice": "New payout comes in         Only callable from one of the priority pools         After the pool's report is passed and executed,         part of the assets will be moved to this pool."
      }
    },
    "notice": "Payout Pool         Every time there is a report passed, some assets will be moved to this pool         It is stored as a Payout struct         - amount       Total amount of this payout         - remaining    Remaining amount         - endTimestamp After this timestamp, no more claims         - ratio        Max ratio of a user's crToken",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 52,
        "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
        "label": "_initialized",
        "offset": 0,
        "slot": "0",
        "type": "t_uint8"
      },
      {
        "astId": 55,
        "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
        "label": "_initializing",
        "offset": 1,
        "slot": "0",
        "type": "t_bool"
      },
      {
        "astId": 17277,
        "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
        "label": "shield",
        "offset": 2,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 17279,
        "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
        "label": "crFactory",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      },
      {
        "astId": 17281,
        "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
        "label": "policyCenter",
        "offset": 0,
        "slot": "2",
        "type": "t_address"
      },
      {
        "astId": 17283,
        "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
        "label": "priorityPoolFactory",
        "offset": 0,
        "slot": "3",
        "type": "t_address"
      },
      {
        "astId": 17301,
        "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
        "label": "payouts",
        "offset": 0,
        "slot": "4",
        "type": "t_mapping(t_uint256,t_mapping(t_uint256,t_struct(Payout)17294_storage))"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_mapping(t_uint256,t_mapping(t_uint256,t_struct(Payout)17294_storage))": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => mapping(uint256 => struct PayoutPool.Payout))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_uint256,t_struct(Payout)17294_storage)"
      },
      "t_mapping(t_uint256,t_struct(Payout)17294_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct PayoutPool.Payout)",
        "numberOfBytes": "32",
        "value": "t_struct(Payout)17294_storage"
      },
      "t_struct(Payout)17294_storage": {
        "encoding": "inplace",
        "label": "struct PayoutPool.Payout",
        "members": [
          {
            "astId": 17285,
            "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
            "label": "amount",
            "offset": 0,
            "slot": "0",
            "type": "t_uint256"
          },
          {
            "astId": 17287,
            "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
            "label": "remaining",
            "offset": 0,
            "slot": "1",
            "type": "t_uint256"
          },
          {
            "astId": 17289,
            "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
            "label": "endTiemstamp",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 17291,
            "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
            "label": "ratio",
            "offset": 0,
            "slot": "3",
            "type": "t_uint256"
          },
          {
            "astId": 17293,
            "contract": "src/pools/payoutPool/PayoutPool.sol:PayoutPool",
            "label": "priorityPool",
            "offset": 0,
            "slot": "4",
            "type": "t_address"
          }
        ],
        "numberOfBytes": "160"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint8": {
        "encoding": "inplace",
        "label": "uint8",
        "numberOfBytes": "1"
      }
    }
  }
}